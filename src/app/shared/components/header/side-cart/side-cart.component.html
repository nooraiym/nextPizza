@if (isOpen) {
  <div
    class="fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"
    (click)="handleCloseCart()">
  </div>
  <div
    class="custom-shadow fixed top-0 right-0 w-80 h-screen bg-white z-50 flex flex-col">
    @if (isCartEmpty) {
      <div class="h-screen flex flex-col justify-center items-center px-10">
        <img
          class="w-28 pb-5"
          src="/assets/images/empty-box.png"
          alt="Empty cart image"
        />
        <p class="text-xl font-semibold pb-2">Корзина пустая</p>
        <p class="text-gray-300 text-center pb-9">
          Добавьте хотя бы одну пиццу, чтобы совершить заказ
        </p>
        <button
          class="btn btn-size btn-primary icon gap-2"
          (click)="handleCloseCart()"
        >
          <lucide-angular [img]="MoveLeft" class="w-4 h-4" />
          Вернуться назад
        </button>
      </div>
    } @else {
      <side-cart-details
        class="flex-1 bg-surface-secondary"
        [cartItems]="cartProducts"
        [totalQuantity]="totalQuantity"
        (onIncrease)="increaseQuantity($event)"
        (onDecrease)="decreaseQuantity($event)"
      />
      <div class="bg-surface-primary border-transparent pt-9 px-8 pb-7 align-bottom">
        <div class="font-normal text-gray-700 mb-1 flex items-center justify-between">
          <span>Итого:</span>
          <div class="max-h-2 border-b-[1.5px] border-dotted flex-grow mt-2 mx-1"></div>
          <span class="font-extrabold">{{ totalCartCost }} ₽</span>
        </div>
        <div class="font-normal text-gray-700 mb-1 flex items-center justify-between pb-5">
          <span>Налог 5%:</span>
          <div class="max-h-2 border-b-[1.5px] border-dotted flex-grow mt-2 mx-1"></div>
          <span class="font-extrabold">{{ totalFee }} ₽</span>
        </div>
        <button
          class="btn-size w-full btn btn-primary icon gap-2"
          routerLink="/profile/my-cart"
        >
          Оформить заказ
          <lucide-angular [img]="MoveRight" class="pr-1" />
        </button>
      </div>
    }
  </div>
}
